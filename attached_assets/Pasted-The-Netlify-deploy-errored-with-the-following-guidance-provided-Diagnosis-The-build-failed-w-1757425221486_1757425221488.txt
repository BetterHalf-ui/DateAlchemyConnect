The Netlify deploy errored, with the following guidance provided:

**Diagnosis:**
The build failed with the error message "Command failed with exit code 126: ./build-netlify.sh" due to a permission denied error on line 68.

**Solution:**
1. Verify that the script `build-netlify.sh` has the correct permissions to be executed. You can do this by running `ls -l build-netlify.sh` in the terminal to check the permissions.
2. If the script lacks execution permission, you can grant it using `chmod +x build-netlify.sh`.
3. Make sure to commit the updated script with proper permissions to the repository before triggering a new build.

The relevant error logs are:

Line 17: Enabling Node.js Corepack
Line 18: Started restoring cached build plugins
Line 19: Finished restoring cached build plugins
Line 20: WARNING: The environment variable 'NODE_ENV' is set to 'production'. Any 'devDependencies' in package.json will not be installed
Line 21: Started restoring cached corepack dependencies
Line 22: Finished restoring cached corepack dependencies
Line 23: No npm workspaces detected
Line 24: Started restoring cached node modules
Line 25: Finished restoring cached node modules
Line 26: Installing npm packages using npm version 10.8.2
Line 27: npm warn deprecated node-domexception@1.0.0: Use your platform's native DOMException instead
Line 28: added 694 packages in 7s
Line 29: npm packages installed
Line 30: Successfully installed dependencies
Line 31: Starting build script
Line 32: Detected 1 framework(s)
Line 33: "vite" at version "5.4.19"
Line 34: Section completed: initializing
Line 35: [96m[1mâ€‹[22m[39m
Line 36: [96m[1mNetlify Build                                                 [22m[39m
Line 37: [96m[1mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[22m[39m
Line 52:   /opt/build/repo/netlify.toml
Line 53: [36m[1mâ€‹[22m[39m
Line 54: [36m[1mâ¯ Context[22m[39m
Line 55:   production
Line 56: [36m[1mâ€‹[22m[39m
Line 57: [36m[1mâ¯ Installing plugins[22m[39m
Line 58:    - netlify-plugin-image-optim@0.4.0
Line 59: [36m[1mâ€‹[22m[39m
Line 60: [36m[1mâ¯ Loading plugins[22m[39m
Line 61:    - [36mnetlify-plugin-image-optim[39m@0.4.0 from Netlify app
Line 62: Failed during stage 'building site': Build script returned non-zero exit code: 2
Line 63: [96m[1mâ€‹[22m[39m
Line 64: [96m[1mbuild.command from netlify.toml                               [22m[39m
Line 65: [96m[1mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[22m[39m
Line 66: â€‹
Line 67: [36m$ ./build-netlify.sh[39m
Line 68: bash: line 1: ./build-netlify.sh: Permission denied
Line 69: [91m[1mâ€‹[22m[39m
Line 70: [91m[1m"build.command" failed                                        [22m[39m
Line 71: [91m[1mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[22m[39m
Line 72: â€‹
Line 73:   [31m[1mError message[22m[39m
Line 74:   Command failed with exit code 126: ./build-netlify.sh
Line 75: â€‹
Line 76:   [31m[1mError location[22m[39m
Line 77:   In build.command from netlify.toml:
Line 78:   ./build-netlify.sh
Line 79: â€‹
Line 80:   [31m[1mResolved config[22m[39m
Line 81:   build:
Line 82:     command: ./build-netlify.sh
Line 83:     commandOrigin: config
Line 84:     environment:
Line 85:       - DATABASE_URL
Line 86:       - MAILERLITE_API_KEY
Line 89:       - SUPABASE_URL
Line 90:       - USE_SUPABASE
Line 91:       - NODE_VERSION
Line 92:     publish: /opt/build/repo/dist/public
Line 93:     publishOrigin: config
Line 94:   functionsDirectory: /opt/build/repo/netlify/functions
Line 95:   plugins:
Line 96:     - inputs: {}
Line 97:       origin: ui
Line 98:       package: netlify-plugin-image-optim
Line 99: Build failed due to a user error: Build script returned non-zero exit code: 2
Line 100: Failing build: Failed to build site
Line 101: Finished processing build request in 27.591s